{"remainingRequest":"/Users/nanxuan/Desktop/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nanxuan/Desktop/vue-frontend/src/views/UserMember.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nanxuan/Desktop/vue-frontend/src/views/UserMember.vue","mtime":1710429407000},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712020702053},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1712020702448},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712020702053},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1712020702552}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXSwKICAgICAgaGVhZGVyczogWwogICAgICAgIHsgdGV4dDogJ05hbWUnLCB2YWx1ZTogJ25hbWUnIH0sCiAgICAgICAgeyB0ZXh0OiAnQWNjb3VudCcsIHZhbHVlOiAnYWNjb3VudCcgfSwKICAgICAgICB7IHRleHQ6ICdNZW1iZXJzaGlwJywgdmFsdWU6ICdhY3Rpb25zJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hVc2VycygpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hVc2VycygpIHsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0Ojc1MjkvYXBpL3VzZXIvc2VhcmNoJykKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnVzZXJzID0gcmVzcG9uc2UuZGF0YS5kYXRhLm1hcCh1c2VyID0+ICh7CiAgICAgICAgICAgIC4uLnVzZXIsCiAgICAgICAgICAgIG5hbWU6IHVzZXIudXNlckFjY291bnQsIC8vIEFzc3VtaW5nIHlvdSB3YW50IHRvIHVzZSB1c2VyQWNjb3VudCBhcyBuYW1lIGZvciBkaXNwbGF5CiAgICAgICAgICAgIGFjY291bnQ6IHVzZXIudXNlckFjY291bnQsCiAgICAgICAgICAgIHVzZXJTdGF0dXM6IHVzZXIudXNlclN0YXR1cywKICAgICAgICAgIH0pKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyczonLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlVXNlclN0YXR1cyhpdGVtKSB7CiAgICAgIGNvbnN0IGFwaVVybCA9IGl0ZW0udXNlclN0YXR1cyA9PT0gMSA/ICdodHRwOi8vbG9jYWxob3N0Ojc1MjkvYXBpL3VzZXIvc3RhdHVzMScgOiAnaHR0cDovL2xvY2FsaG9zdDo3NTI5L2FwaS91c2VyL3N0YXR1czAnOwogICAgICBheGlvcy5wb3N0KGFwaVVybCwgeyBpZDogaXRlbS5pZCB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZmV0Y2hVc2VycygpOyAvLyBSZWZyZXNoIGRhdGEKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIHN0YXR1czonLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["UserMember.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserMember.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-card>\n            <v-card-title>User Management</v-card-title>\n            <v-card-text>\n              <v-divider class=\"mt-4\"></v-divider>\n              <v-data-table\n                :headers=\"headers\"\n                :items=\"users\"\n                :items-per-page=\"5\"\n                class=\"elevation-1\"\n              >\n                <template v-slot:item.actions=\"{ item }\">\n                  <v-radio-group v-model=\"item.userStatus\" @change=\"updateUserStatus(item)\" row>\n                    <v-radio :label=\"'School'\" :value=\"1\"></v-radio>\n                    <v-radio :label=\"'Non-school'\" :value=\"0\"></v-radio>\n                  </v-radio-group>\n                </template>\n              </v-data-table>\n            </v-card-text>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      users: [],\n      headers: [\n        { text: 'Name', value: 'name' },\n        { text: 'Account', value: 'account' },\n        { text: 'Membership', value: 'actions', sortable: false },\n      ],\n    };\n  },\n  mounted() {\n    this.fetchUsers();\n  },\n  methods: {\n    fetchUsers() {\n      axios.get('http://localhost:7529/api/user/search')\n        .then(response => {\n          this.users = response.data.data.map(user => ({\n            ...user,\n            name: user.userAccount, // Assuming you want to use userAccount as name for display\n            account: user.userAccount,\n            userStatus: user.userStatus,\n          }));\n        })\n        .catch(error => {\n          console.error('Error fetching users:', error);\n        });\n    },\n    updateUserStatus(item) {\n      const apiUrl = item.userStatus === 1 ? 'http://localhost:7529/api/user/status1' : 'http://localhost:7529/api/user/status0';\n      axios.post(apiUrl, { id: item.id })\n        .then(() => {\n          this.fetchUsers(); // Refresh data\n        })\n        .catch(error => {\n          console.error('Error updating user status:', error);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>\n"]}]}