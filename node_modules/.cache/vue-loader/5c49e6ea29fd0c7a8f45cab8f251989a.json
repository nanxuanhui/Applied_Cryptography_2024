{"remainingRequest":"/Users/nanxuan/Desktop/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nanxuan/Desktop/vue-frontend/src/components/Encrypt.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nanxuan/Desktop/vue-frontend/src/components/Encrypt.vue","mtime":1710256670000},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712020702053},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1712020702448},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712020702053},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1712020702552}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFbmNyeXB0IGZyb20gIkAvYXNzZXRzL2VuY3J5cHQuanMiOwppbXBvcnQgRGVjcnlwdCBmcm9tICJAL2Fzc2V0cy9kZWNyeXB0LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWxsb1dvcmxkIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFyYW1zOiB7CiAgICAgICAgbmFtZTogImJhc2U2NGZpbGVkYXRhIiwKICAgICAgICBpZGNhcmQ6ICJiYXNlNjRmaWxlZGF0YSIsCiAgICAgICAgcGhvbmU6ICJiYXNlNjRmaWxlZGF0YSIsCiAgICAgICAgb3RoZXI6ICIiCiAgICAgIH0sCiAgICAgIC8vIEVuY3J5cHRlZCBEYXRhCiAgICAgIGVuY3J5cHRlZDogbnVsbCwKICAgICAgZW5jcnlwdGVkQXJyOiBbXSwKICAgICAgLy8gRGVjcnlwdGVkIERhdGEKICAgICAgZGVjcnlwdGVkOiBudWxsLAogICAgICBkZWNyeXB0ZWRBcnI6IFtdLAogICAgICBkZWNyeXB0ZWRTdGF0dXM6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIG1zZzogU3RyaW5nCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBFbmNyeXB0IERhdGEsIHVzdWFsbHkgcGxhY2VkIGluIHJlcXVlc3QgaW50ZXJjZXB0b3JzCiAgICBlbmNyeXB0RGF0YSgpIHsKICAgICAgY29uc3QgZW5jcnlwdG9yID0gbmV3IEVuY3J5cHQodGhpcy5wYXJhbXMpOwogICAgICAvLyBkYXRhIGlzIHRoZSBlbmNyeXB0ZWQgZGF0YQogICAgICBsZXQgZGF0YSA9IGVuY3J5cHRvci5nZW5lcmF0ZURhdGEoKTsKICAgICAgLy8gPT09PT09CiAgICAgIHRoaXMuZW5jcnlwdGVkID0geyAuLi5kYXRhIH07CiAgICAgIHRoaXMuZW5jcnlwdGVkQXJyID0gdGhpcy5nZXRLZXlWYWxBcnIoZGF0YSk7CiAgICB9LAogICAgLy8gRGVjcnlwdCBEYXRhLCB1c3VhbGx5IHBsYWNlZCBpbiByZXNwb25zZSBpbnRlcmNlcHRvcnMKICAgIGRlY3J5cHREYXRhKCkgewogICAgICBjb25zdCBkZWNyeXB0b3IgPSBuZXcgRGVjcnlwdCgKICAgICAgICB0aGlzLmVuY3J5cHRlZC5lbmNyeXB0ZWRLZXksCiAgICAgICAgdGhpcy5lbmNyeXB0ZWQuZW5jcnlwdGVkRGF0YQogICAgICApOwogICAgICAvLyBDaGVjayBpZiB0aGUgc2lnbmF0dXJlIGlzIHZhbGlkCiAgICAgIGNvbnN0IGlzcGFzcyA9IGRlY3J5cHRvci5pc1Bhc3MoCiAgICAgICAgewogICAgICAgICAgY2xpZW50SUQ6ICcnLAogICAgICAgICAgc2VxdWVuY2VObzogdGhpcy5lbmNyeXB0ZWQuc2VxdWVuY2VObywKICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5lbmNyeXB0ZWQudGltZXN0YW1wLAogICAgICAgICAgdmVyc2lvbjogdGhpcy5lbmNyeXB0ZWQudmVyc2lvbgogICAgICAgIH0sCiAgICAgICAgdGhpcy5lbmNyeXB0ZWQuc2lnbmF0dXJlCiAgICAgICk7CiAgICAgIC8vIElmIHRoZSBzaWduYXR1cmUgaXMgdmFsaWQKICAgICAgaWYgKGlzcGFzcykgewogICAgICAgIHRoaXMuZGVjcnlwdGVkU3RhdHVzID0gaXNwYXNzOwogICAgICAgIC8vIGRhdGEgaXMgdGhlIGRlY3J5cHRlZCBkYXRhCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShkZWNyeXB0b3IuZGVjcnlwdGVkKS5ib2R5OwogICAgICAgICAgdGhpcy5kZWNyeXB0ZWRBcnIgPSB0aGlzLmdldEtleVZhbEFycihkYXRhKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoJ1NpZ25hdHVyZSBWZXJpZmljYXRpb24gRmFpbGVkJykKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICogQHBhcmFtIHtPYmplY3R9IG9iagogICAgICogQHJldHVybiB7QXJyYXl9IFt7a2V5OnZhbH0sIC4uLl0KICAgICAqICoqLwogICAgZ2V0S2V5VmFsQXJyKG9iaikgewogICAgICBsZXQgYXJyID0gW107CiAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTsKICAgICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHsKICAgICAgICBhcnIucHVzaCh7CiAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgIHZhbDogb2JqW2tleV0KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gYXJyOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Encrypt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Encrypt.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n   \n    <ul>\n      <li>Enter data to encrypt:</li>\n      <li class=\"flex\">\n        <div class=\"key\">Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.name\" />\n        </div>\n      </li>\n      <li class=\"flex\">\n        <div class=\"key\"> Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.idcard\" />\n        </div>\n      </li>\n      <li class=\"flex\">\n        <div class=\"key\">Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.phone\" />\n        </div>\n      </li>\n      <li class=\"flex\">\n        <div class=\"key\">Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.other\" />\n        </div>\n      </li>\n    </ul>\n    <button @click=\"encryptData\" class=\"btn\">Generate Encrypted Data</button>\n    <div v-if=\"encryptedArr.length > 0\">\n      <ul>\n        <li>Encrypted Data:</li>\n        <li v-for=\"(item, index) in encryptedArr\" :key=\"index\" class=\"flex\">\n          <div class=\"key\">{{item.key}}:</div>\n          <div class=\"val\">{{item.val}}</div>\n        </li>\n      </ul>\n    </div>\n    <button @click=\"decryptData\" class=\"btn\">Decrypt Data</button>\n    <div class=\"text-align padding\" v-show=\"decryptedStatus\">\n      <span style=\"color: green;\">Signature Verification Successful</span>\n    </div>\n    <div v-if=\"decryptedArr.length > 0\">\n      <ul>\n        <li>Decrypted Data:</li>\n        <li v-for=\"(item, index) in decryptedArr\" :key=\"index\" class=\"flex\">\n          <div class=\"key\">{{item.key}}:</div>\n          <div class=\"val\">{{item.val}}</div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Encrypt from \"@/assets/encrypt.js\";\nimport Decrypt from \"@/assets/decrypt.js\";\nexport default {\n  name: \"HelloWorld\",\n  data() {\n    return {\n      params: {\n        name: \"base64filedata\",\n        idcard: \"base64filedata\",\n        phone: \"base64filedata\",\n        other: \"\"\n      },\n      // Encrypted Data\n      encrypted: null,\n      encryptedArr: [],\n      // Decrypted Data\n      decrypted: null,\n      decryptedArr: [],\n      decryptedStatus: false\n    };\n  },\n  props: {\n    msg: String\n  },\n  methods: {\n    // Encrypt Data, usually placed in request interceptors\n    encryptData() {\n      const encryptor = new Encrypt(this.params);\n      // data is the encrypted data\n      let data = encryptor.generateData();\n      // ======\n      this.encrypted = { ...data };\n      this.encryptedArr = this.getKeyValArr(data);\n    },\n    // Decrypt Data, usually placed in response interceptors\n    decryptData() {\n      const decryptor = new Decrypt(\n        this.encrypted.encryptedKey,\n        this.encrypted.encryptedData\n      );\n      // Check if the signature is valid\n      const ispass = decryptor.isPass(\n        {\n          clientID: '',\n          sequenceNo: this.encrypted.sequenceNo,\n          timestamp: this.encrypted.timestamp,\n          version: this.encrypted.version\n        },\n        this.encrypted.signature\n      );\n      // If the signature is valid\n      if (ispass) {\n        this.decryptedStatus = ispass;\n        // data is the decrypted data\n        try {\n          let data = JSON.parse(decryptor.decrypted).body;\n          this.decryptedArr = this.getKeyValArr(data);\n          console.log(data);\n        } catch (err) {\n          console.log(err);\n        }\n      } else {\n        alert('Signature Verification Failed')\n      }\n    },\n    /**\n     * @param {Object} obj\n     * @return {Array} [{key:val}, ...]\n     * **/\n    getKeyValArr(obj) {\n      let arr = [];\n      let keys = Object.keys(obj);\n      for (let key of keys) {\n        arr.push({\n          key: key,\n          val: obj[key]\n        });\n      }\n      return arr;\n    }\n  }\n};\n</script>\n\n\n<style scoped >\n.text-center {\n  text-align: center;\n}\n.margin {\n  margin: 15px;\n}\n.padding {\n  padding: 15px;\n}\n.btn {\n  display: block;\n  margin: 20px auto;\n  font-size: 16px;\n  background: cornflowerblue;\n  color: #fff;\n  outline: none;\n  border: none;\n  padding: 4px 10px;\n  border-radius: 10px;\n}\n.flex {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 12px;\n}\n.flex .key {\n  font-weight: bold;\n  font-size: 14px;\n  min-width: 5em;\n  text-align: left;\n}\n.flex .val {\n  flex: 1;\n  flex-grow: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #f00;\n  font-size: 12px;\n}\n.flex .val input {\n  width: 100%;\n  font-size: 14px;\n}\n\n</style>\n"]}]}