{"remainingRequest":"/Users/nanxuan/Desktop/vue-frontend/node_modules/babel-loader/lib/index.js!/Users/nanxuan/Desktop/vue-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nanxuan/Desktop/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nanxuan/Desktop/vue-frontend/src/components/Encrypt.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nanxuan/Desktop/vue-frontend/src/components/Encrypt.vue","mtime":1710256670000},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712020702053},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1712020702448},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1712020702053},{"path":"/Users/nanxuan/Desktop/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1712020702552}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25hbnh1YW4vRGVza3RvcC92dWUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBFbmNyeXB0IGZyb20gIkAvYXNzZXRzL2VuY3J5cHQuanMiOwppbXBvcnQgRGVjcnlwdCBmcm9tICJAL2Fzc2V0cy9kZWNyeXB0LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWxsb1dvcmxkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFyYW1zOiB7CiAgICAgICAgbmFtZTogImJhc2U2NGZpbGVkYXRhIiwKICAgICAgICBpZGNhcmQ6ICJiYXNlNjRmaWxlZGF0YSIsCiAgICAgICAgcGhvbmU6ICJiYXNlNjRmaWxlZGF0YSIsCiAgICAgICAgb3RoZXI6ICIiCiAgICAgIH0sCiAgICAgIC8vIEVuY3J5cHRlZCBEYXRhCiAgICAgIGVuY3J5cHRlZDogbnVsbCwKICAgICAgZW5jcnlwdGVkQXJyOiBbXSwKICAgICAgLy8gRGVjcnlwdGVkIERhdGEKICAgICAgZGVjcnlwdGVkOiBudWxsLAogICAgICBkZWNyeXB0ZWRBcnI6IFtdLAogICAgICBkZWNyeXB0ZWRTdGF0dXM6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIG1zZzogU3RyaW5nCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBFbmNyeXB0IERhdGEsIHVzdWFsbHkgcGxhY2VkIGluIHJlcXVlc3QgaW50ZXJjZXB0b3JzCiAgICBlbmNyeXB0RGF0YTogZnVuY3Rpb24gZW5jcnlwdERhdGEoKSB7CiAgICAgIHZhciBlbmNyeXB0b3IgPSBuZXcgRW5jcnlwdCh0aGlzLnBhcmFtcyk7IC8vIGRhdGEgaXMgdGhlIGVuY3J5cHRlZCBkYXRhCgogICAgICB2YXIgZGF0YSA9IGVuY3J5cHRvci5nZW5lcmF0ZURhdGEoKTsgLy8gPT09PT09CgogICAgICB0aGlzLmVuY3J5cHRlZCA9IF9vYmplY3RTcHJlYWQoe30sIGRhdGEpOwogICAgICB0aGlzLmVuY3J5cHRlZEFyciA9IHRoaXMuZ2V0S2V5VmFsQXJyKGRhdGEpOwogICAgfSwKICAgIC8vIERlY3J5cHQgRGF0YSwgdXN1YWxseSBwbGFjZWQgaW4gcmVzcG9uc2UgaW50ZXJjZXB0b3JzCiAgICBkZWNyeXB0RGF0YTogZnVuY3Rpb24gZGVjcnlwdERhdGEoKSB7CiAgICAgIHZhciBkZWNyeXB0b3IgPSBuZXcgRGVjcnlwdCh0aGlzLmVuY3J5cHRlZC5lbmNyeXB0ZWRLZXksIHRoaXMuZW5jcnlwdGVkLmVuY3J5cHRlZERhdGEpOyAvLyBDaGVjayBpZiB0aGUgc2lnbmF0dXJlIGlzIHZhbGlkCgogICAgICB2YXIgaXNwYXNzID0gZGVjcnlwdG9yLmlzUGFzcyh7CiAgICAgICAgY2xpZW50SUQ6ICcnLAogICAgICAgIHNlcXVlbmNlTm86IHRoaXMuZW5jcnlwdGVkLnNlcXVlbmNlTm8sCiAgICAgICAgdGltZXN0YW1wOiB0aGlzLmVuY3J5cHRlZC50aW1lc3RhbXAsCiAgICAgICAgdmVyc2lvbjogdGhpcy5lbmNyeXB0ZWQudmVyc2lvbgogICAgICB9LCB0aGlzLmVuY3J5cHRlZC5zaWduYXR1cmUpOyAvLyBJZiB0aGUgc2lnbmF0dXJlIGlzIHZhbGlkCgogICAgICBpZiAoaXNwYXNzKSB7CiAgICAgICAgdGhpcy5kZWNyeXB0ZWRTdGF0dXMgPSBpc3Bhc3M7IC8vIGRhdGEgaXMgdGhlIGRlY3J5cHRlZCBkYXRhCgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZGVjcnlwdG9yLmRlY3J5cHRlZCkuYm9keTsKICAgICAgICAgIHRoaXMuZGVjcnlwdGVkQXJyID0gdGhpcy5nZXRLZXlWYWxBcnIoZGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCdTaWduYXR1cmUgVmVyaWZpY2F0aW9uIEZhaWxlZCcpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogQHBhcmFtIHtPYmplY3R9IG9iagogICAgICogQHJldHVybiB7QXJyYXl9IFt7a2V5OnZhbH0sIC4uLl0KICAgICAqICoqLwogICAgZ2V0S2V5VmFsQXJyOiBmdW5jdGlvbiBnZXRLZXlWYWxBcnIob2JqKSB7CiAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopOwoKICAgICAgZm9yICh2YXIgX2kgPSAwLCBfa2V5cyA9IGtleXM7IF9pIDwgX2tleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIGtleSA9IF9rZXlzW19pXTsKICAgICAgICBhcnIucHVzaCh7CiAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgIHZhbDogb2JqW2tleV0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFycjsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Encrypt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,OAAA,OAAA,MAAA,qBAAA;AACA,OAAA,OAAA,MAAA,qBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,IAAA,EAAA,gBADA;AAEA,QAAA,MAAA,EAAA,gBAFA;AAGA,QAAA,KAAA,EAAA,gBAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OADA;AAOA;AACA,MAAA,SAAA,EAAA,IARA;AASA,MAAA,YAAA,EAAA,EATA;AAUA;AACA,MAAA,SAAA,EAAA,IAXA;AAYA,MAAA,YAAA,EAAA,EAZA;AAaA,MAAA,eAAA,EAAA;AAbA,KAAA;AAeA,GAlBA;AAmBA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAnBA;AAsBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAFA,yBAEA;AACA,UAAA,SAAA,GAAA,IAAA,OAAA,CAAA,KAAA,MAAA,CAAA,CADA,CAEA;;AACA,UAAA,IAAA,GAAA,SAAA,CAAA,YAAA,EAAA,CAHA,CAIA;;AACA,WAAA,SAAA,qBAAA,IAAA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,CAAA,IAAA,CAAA;AACA,KATA;AAUA;AACA,IAAA,WAXA,yBAWA;AACA,UAAA,SAAA,GAAA,IAAA,OAAA,CACA,KAAA,SAAA,CAAA,YADA,EAEA,KAAA,SAAA,CAAA,aAFA,CAAA,CADA,CAKA;;AACA,UAAA,MAAA,GAAA,SAAA,CAAA,MAAA,CACA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,UAAA,EAAA,KAAA,SAAA,CAAA,UAFA;AAGA,QAAA,SAAA,EAAA,KAAA,SAAA,CAAA,SAHA;AAIA,QAAA,OAAA,EAAA,KAAA,SAAA,CAAA;AAJA,OADA,EAOA,KAAA,SAAA,CAAA,SAPA,CAAA,CANA,CAeA;;AACA,UAAA,MAAA,EAAA;AACA,aAAA,eAAA,GAAA,MAAA,CADA,CAEA;;AACA,YAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,SAAA,CAAA,SAAA,EAAA,IAAA;AACA,eAAA,YAAA,GAAA,KAAA,YAAA,CAAA,IAAA,CAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,SAJA,CAIA,OAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA;AACA,OAVA,MAUA;AACA,QAAA,KAAA,CAAA,+BAAA,CAAA;AACA;AACA,KAxCA;;AAyCA;AACA;AACA;AACA;AACA,IAAA,YA7CA,wBA6CA,GA7CA,EA6CA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA;;AACA,+BAAA,IAAA,2BAAA;AAAA,YAAA,GAAA,YAAA;AACA,QAAA,GAAA,CAAA,IAAA,CAAA;AACA,UAAA,GAAA,EAAA,GADA;AAEA,UAAA,GAAA,EAAA,GAAA,CAAA,GAAA;AAFA,SAAA;AAIA;;AACA,aAAA,GAAA;AACA;AAvDA;AAtBA,CAAA","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n   \n    <ul>\n      <li>Enter data to encrypt:</li>\n      <li class=\"flex\">\n        <div class=\"key\">Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.name\" />\n        </div>\n      </li>\n      <li class=\"flex\">\n        <div class=\"key\"> Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.idcard\" />\n        </div>\n      </li>\n      <li class=\"flex\">\n        <div class=\"key\">Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.phone\" />\n        </div>\n      </li>\n      <li class=\"flex\">\n        <div class=\"key\">Base64:</div>\n        <div class=\"val\">\n          <input type=\"text\" v-model=\"params.other\" />\n        </div>\n      </li>\n    </ul>\n    <button @click=\"encryptData\" class=\"btn\">Generate Encrypted Data</button>\n    <div v-if=\"encryptedArr.length > 0\">\n      <ul>\n        <li>Encrypted Data:</li>\n        <li v-for=\"(item, index) in encryptedArr\" :key=\"index\" class=\"flex\">\n          <div class=\"key\">{{item.key}}:</div>\n          <div class=\"val\">{{item.val}}</div>\n        </li>\n      </ul>\n    </div>\n    <button @click=\"decryptData\" class=\"btn\">Decrypt Data</button>\n    <div class=\"text-align padding\" v-show=\"decryptedStatus\">\n      <span style=\"color: green;\">Signature Verification Successful</span>\n    </div>\n    <div v-if=\"decryptedArr.length > 0\">\n      <ul>\n        <li>Decrypted Data:</li>\n        <li v-for=\"(item, index) in decryptedArr\" :key=\"index\" class=\"flex\">\n          <div class=\"key\">{{item.key}}:</div>\n          <div class=\"val\">{{item.val}}</div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Encrypt from \"@/assets/encrypt.js\";\nimport Decrypt from \"@/assets/decrypt.js\";\nexport default {\n  name: \"HelloWorld\",\n  data() {\n    return {\n      params: {\n        name: \"base64filedata\",\n        idcard: \"base64filedata\",\n        phone: \"base64filedata\",\n        other: \"\"\n      },\n      // Encrypted Data\n      encrypted: null,\n      encryptedArr: [],\n      // Decrypted Data\n      decrypted: null,\n      decryptedArr: [],\n      decryptedStatus: false\n    };\n  },\n  props: {\n    msg: String\n  },\n  methods: {\n    // Encrypt Data, usually placed in request interceptors\n    encryptData() {\n      const encryptor = new Encrypt(this.params);\n      // data is the encrypted data\n      let data = encryptor.generateData();\n      // ======\n      this.encrypted = { ...data };\n      this.encryptedArr = this.getKeyValArr(data);\n    },\n    // Decrypt Data, usually placed in response interceptors\n    decryptData() {\n      const decryptor = new Decrypt(\n        this.encrypted.encryptedKey,\n        this.encrypted.encryptedData\n      );\n      // Check if the signature is valid\n      const ispass = decryptor.isPass(\n        {\n          clientID: '',\n          sequenceNo: this.encrypted.sequenceNo,\n          timestamp: this.encrypted.timestamp,\n          version: this.encrypted.version\n        },\n        this.encrypted.signature\n      );\n      // If the signature is valid\n      if (ispass) {\n        this.decryptedStatus = ispass;\n        // data is the decrypted data\n        try {\n          let data = JSON.parse(decryptor.decrypted).body;\n          this.decryptedArr = this.getKeyValArr(data);\n          console.log(data);\n        } catch (err) {\n          console.log(err);\n        }\n      } else {\n        alert('Signature Verification Failed')\n      }\n    },\n    /**\n     * @param {Object} obj\n     * @return {Array} [{key:val}, ...]\n     * **/\n    getKeyValArr(obj) {\n      let arr = [];\n      let keys = Object.keys(obj);\n      for (let key of keys) {\n        arr.push({\n          key: key,\n          val: obj[key]\n        });\n      }\n      return arr;\n    }\n  }\n};\n</script>\n\n\n<style scoped >\n.text-center {\n  text-align: center;\n}\n.margin {\n  margin: 15px;\n}\n.padding {\n  padding: 15px;\n}\n.btn {\n  display: block;\n  margin: 20px auto;\n  font-size: 16px;\n  background: cornflowerblue;\n  color: #fff;\n  outline: none;\n  border: none;\n  padding: 4px 10px;\n  border-radius: 10px;\n}\n.flex {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 12px;\n}\n.flex .key {\n  font-weight: bold;\n  font-size: 14px;\n  min-width: 5em;\n  text-align: left;\n}\n.flex .val {\n  flex: 1;\n  flex-grow: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #f00;\n  font-size: 12px;\n}\n.flex .val input {\n  width: 100%;\n  font-size: 14px;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}